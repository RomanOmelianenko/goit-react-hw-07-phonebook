(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{11:function(t,e,n){t.exports={TaskEditor:"ContactForm_TaskEditor__3-kzN",TaskEditor_label:"ContactForm_TaskEditor_label__3T5FJ",TaskEditor_input:"ContactForm_TaskEditor_input__2U9J1",TaskEditorinput:"ContactForm_TaskEditorinput__2TrTe",TaskEditor_button:"ContactForm_TaskEditor_button__3MLjh"}},35:function(t,e,n){t.exports={Loader:"Loader_Loader__1fUys"}},67:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){},90:function(t,e,n){},91:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),o=n(10),r=n.n(o),s=n(9),u=n(16),i=n(17),l=n(19),d=n(18),b=n(92),m=n(33),j=n(4),h=n(3),f={addContactRequest:Object(h.b)("contacts/addRequest"),addContactSuccess:Object(h.b)("contacts/addSuccess"),addContactError:Object(h.b)("contacts/addError"),fetchContactsRequest:Object(h.b)("contacts/fetchRequest"),fetchContactsSuccess:Object(h.b)("contacts/fetchSuccess"),fetchContactsError:Object(h.b)("contacts/fetchError"),removeContactRequest:Object(h.b)("contacts/removeRequest"),removeContactSuccess:Object(h.b)("contacts/removeSuccess"),removeContactError:Object(h.b)("contacts/removeError"),changeFilter:Object(h.b)("contacts/changeFilter"),showModalWarning:Object(h.b)("contacts/modalWarning")},p=n(15),O=function(t){return t.contacts.filter},C={getModalwarning:function(t){return t.contacts.modalWarning},getContactsItems:function(t){return t.contacts.contactsItems},getLoading:function(t){return t.contacts.loading},getFilter:O,getVisibleContacts:Object(p.a)([function(t){return t.contacts.contactsItems},O],(function(t,e){return t.filter((function(t){return t.text.name.toLowerCase().includes(e.toLowerCase())}))}))},g=n(14),x=n.n(g);x.a.defaults.baseURL="http://localhost:2000";var v={addContact:function(t){return function(e){e(f.addContactRequest()),x.a.post("/contacts",{text:t}).then((function(t){return e(f.addContactSuccess(t.data))})).catch((function(t){return e(f.addContactError(t))}))}},fetchContacts:function(){return function(t){t(f.fetchContactsRequest()),x.a.get("/contacts").then((function(e){return t(f.fetchContactsSuccess(e.data))})).catch((function(e){return t(f.fetchContactsError(e))}))}},removeContact:function(t){return function(e){e(f.removeContactRequest()),x.a.delete("/contacts/".concat(t)).then((function(){return e(f.removeContactSuccess(t))})).catch((function(t){return e(f.removeContactError(t))}))}}},N=n(11),E=n.n(N),_=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(u.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,c=n.name,a=n.value;t.setState(Object(j.a)({},c,a))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,c=n.name,a=n.number,o=t.props.contactsItems.map((function(t){return t.text.name})).includes(c),r=Number(a);o?(t.props.onSameNameContact(),setTimeout((function(){t.props.onSameNameContact()}),1500)):0===c.length?alert("Field 'Name' must be filled!"):0===a.length?alert("Field 'Number' must be filled!"):r?t.props.onAddContact(Object(m.a)({},t.state)):alert("Insert the number"),t.setState({name:"",number:""})},t}return Object(i.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("form",{className:E.a.TaskEditor,onSubmit:this.handleSubmit,children:[Object(c.jsxs)("label",{className:E.a.TaskEditor_label,children:["Name",Object(c.jsx)("input",{className:E.a.TaskEditor_input,type:"text",name:"name",placeholder:"Your name",autoComplete:"off",autoFocus:"on",value:this.state.name,onChange:this.handleChange})]}),Object(c.jsxs)("label",{className:E.a.TaskEditor_label,children:["Number",Object(c.jsx)("input",{className:E.a.TaskEditor_input,type:"text",name:"number",placeholder:"Your number",autoComplete:"off",value:this.state.number,onChange:this.handleChange})]}),Object(c.jsx)("button",{className:E.a.TaskEditor_button,type:"submit",children:"Add contact"})]})}}]),n}(a.Component),k={onAddContact:v.addContact,onSameNameContact:f.showModalWarning},S=Object(s.b)((function(t){return{contactsItems:C.getContactsItems(t)}}),k)(_),F=n(93),T=(n(67),{onRemoveContact:v.removeContact}),y=Object(s.b)((function(t){return{contacts:C.getVisibleContacts(t)}}),T)((function(t){var e=t.contacts,n=t.onRemoveContact;return Object(c.jsx)(F.a,{component:"ul",className:"TaskList",children:e.map((function(t){var e=t.id,a=t.text;return Object(c.jsx)(b.a,{timeout:250,classNames:"ContactListAppear",children:Object(c.jsxs)("li",{className:"TaskList_item",children:[a.name,": ",a.number,Object(c.jsx)("button",{className:"TaskList_button",type:"button",name:"delete",onClick:function(){return n(e)},children:"x"})]})},e)}))})})),L=(n(68),{onChangeFilter:f.changeFilter}),R=Object(s.b)((function(t){return{value:C.getFilter(t)}}),L)((function(t){var e=t.value,n=t.onChangeFilter;return Object(c.jsxs)("div",{className:"Filter",children:[Object(c.jsx)("h2",{className:"FilterName",children:"Find contacts by name"}),Object(c.jsx)("input",{className:"FilterInput",type:"text",placeholder:"Enter name",value:e,onChange:function(t){return n(t.target.value)}})]})}));n(69);var w=function(){return Object(c.jsx)("h1",{className:"HeaderName",children:"Phonebook"})},I=n.p+"static/media/logo.6ce24c58.svg";n(70);var q=function(){return Object(c.jsx)("img",{src:I,className:"App-logo",alt:"logo"})},A=(n(71),function(){return Object(c.jsx)("div",{className:"Modal",children:Object(c.jsx)("p",{className:"Modal-message",children:"Contact already exist!"})})}),M=n(34),W=n.n(M),J=n(35),H=n.n(J);var U,D,V=function(){return Object(c.jsx)(W.a,{className:H.a.Loader,type:"Circles",color:"#3f51b5",height:60,width:60})},Y=(n(90),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return Object(c.jsxs)("div",{className:"Wrapper",children:[Object(c.jsx)(b.a,{in:!0,appear:!0,timeout:500,classNames:"HeaderAppear",unmountOnExit:!0,children:function(t){return Object(c.jsxs)("div",{className:"Header",children:[Object(c.jsx)(w,{}),Object(c.jsx)(b.a,{in:"entered"===t,timeout:500,classNames:"LogoAppear",unmountOnExit:!0,children:Object(c.jsx)(q,{})})]})}}),Object(c.jsx)(S,{}),Object(c.jsx)(b.a,{in:this.props.contactsItems.length>1,timeout:250,classNames:"FilterAppear",unmountOnExit:!0,children:Object(c.jsx)(R,{})}),this.props.isLoadingContacts&&Object(c.jsx)(V,{}),Object(c.jsx)(b.a,{in:this.props.contactsItems.length>0,timeout:250,classNames:"ContactsAppear",unmountOnExit:!0,children:Object(c.jsx)("h2",{className:"ContactsName",children:"Contacts"})}),Object(c.jsx)(b.a,{in:this.props.contactsItems.length>0,timeout:250,classNames:"ContactListApp",unmountOnExit:!0,children:Object(c.jsx)(y,{})}),Object(c.jsx)(b.a,{in:this.props.modalWarning,timeout:250,classNames:"ShowModalAppear",unmountOnExit:!0,children:Object(c.jsx)(A,{})})]})}}]),n}(a.Component)),z={onFetchContacts:v.fetchContacts},P=Object(s.b)((function(t){return{modalWarning:C.getModalwarning(t),contactsItems:C.getContactsItems(t),isLoadingContacts:C.getLoading(t)}}),z)(Y),B=n(36),G=n(8),K=Object(h.c)([],(U={},Object(j.a)(U,f.fetchContactsSuccess,(function(t,e){return e.payload})),Object(j.a)(U,f.addContactSuccess,(function(t,e){return[].concat(Object(B.a)(t),[e.payload])})),Object(j.a)(U,f.removeContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),U)),Q=Object(h.c)("",Object(j.a)({},f.changeFilter,(function(t,e){return e.payload}))),X=Object(h.c)(!1,Object(j.a)({},f.showModalWarning,(function(t,e){return!t}))),Z=Object(h.c)(!1,(D={},Object(j.a)(D,f.addContactRequest,(function(){return!0})),Object(j.a)(D,f.addContactSuccess,(function(){return!1})),Object(j.a)(D,f.addContactError,(function(){return!1})),Object(j.a)(D,f.fetchContactsRequest,(function(){return!0})),Object(j.a)(D,f.fetchContactsSuccess,(function(){return!1})),Object(j.a)(D,f.fetchContactsError,(function(){return!1})),Object(j.a)(D,f.removeContactRequest,(function(){return!0})),Object(j.a)(D,f.removeContactSuccess,(function(){return!1})),Object(j.a)(D,f.removeContactError,(function(){return!1})),D)),$=Object(G.c)({contactsItems:K,filter:Q,modalWarning:X,loading:Z}),tt=Object(h.a)({reducer:{contacts:$}});r.a.render(Object(c.jsx)(s.a,{store:tt,children:Object(c.jsx)(P,{})}),document.querySelector("#root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.362fdc4a.chunk.js.map